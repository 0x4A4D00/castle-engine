{ -*- buffer-read-only: t -*- }
{ DON'T EDIT -- this file was automatically generated from "xmlportals_to_x3d_suffix.x3dv" }
'' + LineEnding + 
'# ----------------------------------------------------------------------------' + LineEnding + 
'# This is a static content always appended to VRML/X3D files generated by' + LineEnding + 
'# xmlportals_to_x3d. It adds a small script and KeySensor,' + LineEnding + 
'# to switch between display mode with the ''d'' key.' + LineEnding + 
'' + LineEnding + 
'DEF KSens KeySensor { }' + LineEnding + 
'' + LineEnding + 
'DEF Scr Script {' + LineEnding + 
'  inputOnly SFString keyPress' + LineEnding + 
'' + LineEnding + 
'  # Same value by default as PortalsDisplaySwitch.whichChoice.' + LineEnding + 
'  # ''d'' key will toggle between 1, 0, -1 (this is the natural order' + LineEnding + 
'  # for view: all, none, super sectors).' + LineEnding + 
'  inputOutput SFInt32 portalsDisplay 0' + LineEnding + 
'' + LineEnding + 
'  url "kambiscript:' + LineEnding + 
'' + LineEnding + 
'function keyPress(value, time)' + LineEnding + 
'  portalsDisplay := portalsDisplay - 1;' + LineEnding + 
'  when (portalsDisplay = -2, portalsDisplay := 1)' + LineEnding + 
'"' + LineEnding + 
'}' + LineEnding + 
'' + LineEnding + 
'ROUTE KSens.keyPress TO Scr.keyPress' + LineEnding + 
'ROUTE Scr.portalsDisplay TO PortalsDisplaySwitch.whichChoice' + LineEnding + 
''
